The Buzz Media common-lib
http://www.thebuzzmedia.com/software/common-lib-common-java-utility-library/


Changelog
---------
2.2
	* Added IService interface to represent a simple asynchronous task-executing
	service design to compliment the new AbstractRetryableTask class. Although
	that is not a requirement; IService is specified to process any Callable.
	
	* Added DefaultService, a simple implementation of the IService interface
	used to process tasks using a fixed (configurable) thread pool.
	
	* Added IInput input definition.
	
	IInput represents a powerful way to wrap any kind of readable input with a
	common, generics-enhanced interface and read from it given a target buffer.
	
	IInputs are a unifying structure at a higher level than similar approaches
	like InputStream, Reader or even NIO's Buffer classes. None of these existing
	approaches to abstracting sources of input can be used to wrap/represent
	each other directly, which is why IInputs were created.
	
	IInputs also allow for the controlling or "bounding" of accessible data from
	an underlying source as well as partially refilling a buffer with fresh
	content while maintaining existing data in the buffer. 
	
	* Default IInput implementations provided for all popular sources:
		* InputStreamInput	java.io.InputStream source with byte[] buffer
		* ReaderInput		java.io.Reader source with char[] buffer
		* ByteArrayInput	byte[] source with byte[] buffer
		* CharArrayInput	char[] source with char[] buffer
		* ByteBufferInput	java.nio.ByteBuffer source with byte[] buffer
		* CharBufferInput	java.nio.CharBuffer source with char[] buffer
		* CharSequenceInput	java.lang.CharSequence source with char[] buffer

2.1
	* Added AbstractRetryableTask; an Callable<V> implementation that can 
	automatically retry failed tasks up to a configurable amount of times, 
	sleeping the executing Thread a configurable (increasing) duration every 
	subsequent time the task fails. This is fantastic for cloud-based/API or 
	data-store operations that may frequently fail and retrying them is not
	uncommon (e.g. Using Amazon Web Services APIs).

2.0
	* Fixed bug in build script where library required Java 6. It now works under
	Java 5 now.
	
	* Added RandomUtils class. Convenience methods for generating random numeric
	and character values (e.g. for password or unique file names).
	
	* Added ArrayUtils "NoCheck" methods for all major index searches and equals
	methods. These methods do NO pre-condition check. Handy when the utils class
	is being used inside of another utils class that does all the pre-condition
	checking already and don't want to incur any overhead.
	
	* Added ArrayUtils.append methods
	
	* Added ArrayUtils.insert methods
	
	* Added ArrayUtils.indexAfter methods to find the first index after the given
	value(s). Essentially skipping all values in array that match the value list
	provided, and finding the first non-matching index after the group.
	
	* Modified the ordering of arguments in library to more closely match the
	sequence implied by language.
	
	For example, when you see the method "indexOf(char c, chars[] array, int i)"
	you can read that out loud as: "Find the indexOf 'c', in 'array' starting
	at index 'i'".
	
	Previously the ordering was arbitrary and non-uniform across the library. To
	help improve the intuitiveness of the library and unify the style, it was
	changed.
	
	* Test coverage for all new methods and classes added.
	
	* Integrated into production in the CloudFront Log Parser project.
	http://www.thebuzzmedia.com/software/cloudfront-log-parser/
	
	* Integrated into production in the common-parser-lib project.
	http://www.thebuzzmedia.com/software/common-parser-lib-common-parser-java-utility-library/

1.1
	* ArrayUtils additions
		- equals
		- ensureCapacity
		- all methods apply to both byte[] and char[]
		
	* Charset util additions
		- Added DecodingUtils
		- Added EncodingUtils
	
	* Added test cases for all new methods and classes.

1.0
	* Initial public release.


License
-------
This library is released under the Apache 2 License. See LICENSE.


Description
-----------
A collection of hand-tuned, low-overhead classes used by most of the open source
and commercial software from The Buzz Media.

Many of the operations performed by this library (like searching an array for
a byte or char, or parsing a non-float number) are performed by other libraries
readily available from projects like Apache Commons; this functionality is
re-implemented in this library with a tight focus on performance and lower 
memory overhead at the expense of code duplication.

What that means is avoiding extremely deep method call-hierarchies for something
like indexOf(char[], char) calling down into a more specific method, then
another and another and another until finally ending up at some Abstract class
base implementation.

Benchmarks are provided to compare the library's performance to that of more
"standard" methods.


Performance
-----------
Benchmarks can be found in the /src/test/java folder and can be run directly
from the command line (no need to setup JUnit).

[Platform]
* Java 1.6.0_24 on Windows 7 64-bit 
* Dual Core Intel E6850 processor
* 8 GB of ram

[Benchmark Results]
indexOf byte		elapsed time: 12ms	(3,328,000 bytes scanned)
indexOf byte[]		elapsed time: 22ms	(3,328,000 bytes scanned)
indexOfAny byte[]	elapsed time: 23ms	(3,328,000 bytes scanned)

JDK Integer.parseInt 			elapsed time: 72ms	(1310720 numbers parsed, 6553600 bytes processed)
common-lib NumberUtils.parseInt elapsed time: 55ms	(1310720 numbers parsed, 9175000 bytes processed)


** A note about the Integer.parseInt comparison; the time required to read in the
sample file, decode it from byte[] to char[] and then convert those all into
String instances IS NOT INCLUDED in the benchmark timing. If you were to include
that, you would see both the  memory usage and CPU time of using 
Integer.parseInt to be significantly higher than NumberUtils.parseInt.


Runtime Requirements
--------------------
None.

There are currently no 3rd party dependencies required to use common-lib.


History
-------
While working on a few disparate projects (high performance XML parser,
Redis DB driver, CloudFront log parser, etc.) I noticed a pattern in the types
of utilities I was writing over and over again OR logic I was inlining directly
in my code.

I generalized this code and broke it out into this library so the handful of
projects maintained by The Buzz Media could more easily make use of the code.

I decided to open source the project because there is no proprietary magic in
any of this, the library is tuned to be fast with a small memory footprint and
I thought others might find it handy as opposed to using more bloated libs like
Apache Commons.


Contact
-------
If you have questions, comments or bug reports for this software please contact
us at: software@thebuzzmedia.com